{
	"id": "917a07e3-8bf4-f76c-f084-7193e3b52c37",
	"name": "Policy Test: Custom",
	"description": "HTTP Actions for Task Management API to verify Custom Policy.\nIf there are 5 or more active tasks in a list. It creates a pager incident.",
	"order": [
		"67fc62f5-4e46-4fb2-6e69-fd0a97e38655",
		"6eee80c2-7de0-6b47-885a-58fd3039c6f9",
		"f9efaec4-1a91-5795-0755-73d0b1695f5f",
		"223aef9f-4b58-fcea-8baa-c4a0ebfaa5e8",
		"3cab6169-96a1-02c8-0b60-61a4a134fa6b",
		"5c427fbd-78fc-de9e-b796-57aef8dc2910",
		"3a9b2fda-8d67-023a-d49c-a3a4a2f68ab4",
		"fe2d79e3-7440-7dd6-8d21-e735d8034e13",
		"ab371048-e3a1-bcdf-b7a4-3137a7be6f97"
	],
	"folders": [],
	"timestamp": 1454994565770,
	"owner": 0,
	"public": false,
	"hasRequests": true,
	"requests": [
		{
			"id": "223aef9f-4b58-fcea-8baa-c4a0ebfaa5e8",
			"name": "Step 4: Read Task Lists",
			"dataMode": "params",
			"data": [],
			"rawModeData": null,
			"descriptionFormat": null,
			"description": "Get all tasklist for a user. TaskListId is used to read or create tasks under it",
			"headers": "Ocp-Apim-Trace: true\nOcp-Apim-Subscription-Key: {{Ocp-Apim-Key}}\n",
			"method": "GET",
			"pathVariables": {},
			"url": "{{url}}/tasks/tasklist/{{userId}}",
			"preRequestScript": "",
			"tests": "tests[\"Status code is 200\"] = responseCode.code === 200;\nvar data = JSON.parse(responseBody);\npostman.setEnvironmentVariable(\"taskListId\", data.$values[0].TaskListId);\n\n",
			"currentHelper": "normal",
			"helperAttributes": {},
			"collectionId": "917a07e3-8bf4-f76c-f084-7193e3b52c37"
		},
		{
			"id": "3a9b2fda-8d67-023a-d49c-a3a4a2f68ab4",
			"headers": "Content-Type: application/json\nOcp-Apim-Trace: true\nOcp-Apim-Subscription-Key: {{Ocp-Apim-Key}}\n",
			"url": "{{url}}/tasks/task",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1454994980771,
			"name": "Step 7: Create a new Task 3",
			"description": "Create a new task under a task list using 'TaskListId'",
			"collectionId": "917a07e3-8bf4-f76c-f084-7193e3b52c37",
			"rawModeData": "{\"taskListId\":\"{{taskListId}}\",\"taskTitle\":\"New Task 3\"}"
		},
		{
			"id": "3cab6169-96a1-02c8-0b60-61a4a134fa6b",
			"headers": "Content-Type: application/json\nOcp-Apim-Trace: true\nOcp-Apim-Subscription-Key: {{Ocp-Apim-Key}}\n",
			"url": "{{url}}/tasks/task",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1454994964627,
			"name": "Step 5: Create a new Task 1",
			"description": "Create a new task under a task list using 'TaskListId'",
			"collectionId": "917a07e3-8bf4-f76c-f084-7193e3b52c37",
			"rawModeData": "{\"taskListId\":\"{{taskListId}}\",\"taskTitle\":\"New Task 1\"}"
		},
		{
			"id": "5c427fbd-78fc-de9e-b796-57aef8dc2910",
			"headers": "Content-Type: application/json\nOcp-Apim-Trace: true\nOcp-Apim-Subscription-Key: {{Ocp-Apim-Key}}\n",
			"url": "{{url}}/tasks/task",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1454994974847,
			"name": "Step 6: Create a new Task 2",
			"description": "Create a new task under a task list using 'TaskListId'",
			"collectionId": "917a07e3-8bf4-f76c-f084-7193e3b52c37",
			"rawModeData": "{\"taskListId\":\"{{taskListId}}\",\"taskTitle\":\"New Task 2\"}"
		},
		{
			"id": "67fc62f5-4e46-4fb2-6e69-fd0a97e38655",
			"headers": "Content-Type: application/json\nOcp-Apim-Trace: true\nOcp-Apim-Subscription-Key: {{Ocp-Apim-Key}}\n",
			"url": "{{url}}/tasks/user",
			"preRequestScript": "var random = Math.random();\nvar emailAddress = \"test_custom_policy\"+random*100+\"@mail.com\";\npostman.setEnvironmentVariable(\"userName\", emailAddress);\npostman.setEnvironmentVariable(\"userId\", undefined);\npostman.setEnvironmentVariable(\"taskListId\", undefined);\npostman.setEnvironmentVariable(\"taskId\", undefined);",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1454997231258,
			"name": "Step 1: Create a new User",
			"description": "Creating a new user",
			"collectionId": "917a07e3-8bf4-f76c-f084-7193e3b52c37",
			"rawModeData": "{\"emailAddress\":\"{{userName}}\"}"
		},
		{
			"id": "6eee80c2-7de0-6b47-885a-58fd3039c6f9",
			"headers": "Ocp-Apim-Trace: true\nOcp-Apim-Subscription-Key: {{Ocp-Apim-Key}}\nAuthorization: {{JWT-Token}}\n",
			"url": "{{url}}/tasks/user/{{userName}}",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "GET",
			"data": [],
			"dataMode": "params",
			"version": 2,
			"tests": "var data  ={};\nif(responseBody.slice(0,1) === '<')\n{\n    data = xml2Json(responseBody);\n}\nelse\n{\n    data = JSON.parse(responseBody);\n}\npostman.setEnvironmentVariable(\"userId\", data.UserId);\n\nconsole.log(data.UserId);",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1454353727314,
			"name": "Step 2: Read a given user details",
			"description": "Read User detail by providing email address. The UserId is used to create new tasklists",
			"collectionId": "917a07e3-8bf4-f76c-f084-7193e3b52c37"
		},
		{
			"id": "ab371048-e3a1-bcdf-b7a4-3137a7be6f97",
			"headers": "Content-Type: application/json\nOcp-Apim-Trace: true\nOcp-Apim-Subscription-Key: {{Ocp-Apim-Key}}\n",
			"url": "{{url}}/tasks/task",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1454995290432,
			"name": "Step 9: Create a new Task 5",
			"description": "Create a new task under a task list using 'TaskListId'",
			"collectionId": "917a07e3-8bf4-f76c-f084-7193e3b52c37",
			"rawModeData": "{\"taskListId\":\"{{taskListId}}\",\"taskTitle\":\"New Task 5\"}"
		},
		{
			"id": "f9efaec4-1a91-5795-0755-73d0b1695f5f",
			"name": "Step 3: Create a new Task List",
			"dataMode": "raw",
			"data": [],
			"descriptionFormat": null,
			"description": "Create new task list against a 'UserId'",
			"headers": "Content-Type: application/json\nOcp-Apim-Trace: true\nOcp-Apim-Subscription-Key: {{Ocp-Apim-Key}}\n",
			"method": "POST",
			"pathVariables": {},
			"url": "{{url}}/tasks/tasklist",
			"preRequestScript": "",
			"tests": "",
			"currentHelper": "normal",
			"helperAttributes": {},
			"collectionId": "917a07e3-8bf4-f76c-f084-7193e3b52c37",
			"rawModeData": "{\"userId\":\"{{userId}}\",\"taskListTitle\":\"New Task List please\"}"
		},
		{
			"id": "fe2d79e3-7440-7dd6-8d21-e735d8034e13",
			"headers": "Content-Type: application/json\nOcp-Apim-Trace: true\nOcp-Apim-Subscription-Key: {{Ocp-Apim-Key}}\n",
			"url": "{{url}}/tasks/task",
			"preRequestScript": "",
			"pathVariables": {},
			"method": "POST",
			"data": [],
			"dataMode": "raw",
			"version": 2,
			"tests": "",
			"currentHelper": "normal",
			"helperAttributes": {},
			"time": 1454994984859,
			"name": "Step 8: Create a new Task 4",
			"description": "Create a new task under a task list using 'TaskListId'",
			"collectionId": "917a07e3-8bf4-f76c-f084-7193e3b52c37",
			"rawModeData": "{\"taskListId\":\"{{taskListId}}\",\"taskTitle\":\"New Task 4\"}"
		}
	]
}